{
  "phase": 1,
  "sprint": 4,
  "todoFile": 4,
  "title": "Stamps",
  "priority": "HIGH",
  "effort": "19 hours",
  "status": "completed",
  "tasks": [
    {
      "id": "4.3.1",
      "category": "stamps",
      "title": "Create StampTool Component",
      "description": "Tool for placing preset and custom stamps.",
      "status": "completed",
      "estimatedHours": 5,
      "agent": "sonnet",
      "files": ["src/components/annotations/StampTool.tsx"],
      "testCategories": ["unit", "integration"],
      "acceptanceCriteria": ["Stamp preview follows cursor", "Click to place stamp", "Stamp can be moved after placement"]
    },
    {
      "id": "4.3.2",
      "category": "stamps",
      "title": "Add Preset Stamps",
      "description": "Built-in stamps: Approved, Rejected, Confidential, Draft, Final, For Review.",
      "status": "completed",
      "estimatedHours": 4,
      "agent": "haiku",
      "files": ["src/constants/stamps.ts", "src/components/annotations/StampPicker.tsx"],
      "testCategories": ["unit"],
      "acceptanceCriteria": ["6 preset stamps available", "Each with appropriate color", "Picker shows all options"]
    },
    {
      "id": "4.3.3",
      "category": "stamps",
      "title": "Support Custom Text Stamps",
      "description": "Create custom stamps with user-defined text.",
      "status": "completed",
      "estimatedHours": 4,
      "agent": "sonnet",
      "files": ["src/components/annotations/CustomStampDialog.tsx"],
      "testCategories": ["unit", "integration"],
      "acceptanceCriteria": ["Text input for stamp content", "Font selection", "Color selection", "Preview before creation"]
    },
    {
      "id": "4.3.4",
      "category": "stamps",
      "title": "Implement Stamp Rotation and Scaling",
      "description": "Allow rotating and scaling placed stamps.",
      "status": "completed",
      "estimatedHours": 3,
      "agent": "haiku",
      "files": ["src/components/annotations/StampTransform.tsx"],
      "testCategories": ["unit"],
      "acceptanceCriteria": ["Rotation: 0°, 45°, 90°, etc.", "Scale handles for resizing", "Maintain readability"]
    },
    {
      "id": "4.3.5",
      "category": "stamps",
      "title": "Save Custom Stamps for Reuse",
      "description": "Store custom stamps to IndexedDB for future use.",
      "status": "completed",
      "estimatedHours": 3,
      "agent": "haiku",
      "files": ["src/lib/storage/stampStorage.ts"],
      "testCategories": ["unit", "integration"],
      "acceptanceCriteria": ["Custom stamps persist", "Appear in stamp picker", "Can be deleted"]
    },
    {
      "id": "4.3.6",
      "category": "testing",
      "title": "Write Unit and Integration Tests",
      "description": "Create test files for Sprint 4 features including drawing tool tests, shape annotation tests, freehand drawing tests, and stamp functionality.",
      "status": "completed",
      "estimatedHours": 4,
      "agent": "sonnet",
      "files": [
        "tests/unit/components/annotations/DrawingCanvas.test.tsx",
        "tests/unit/components/annotations/ShapeTool.test.tsx",
        "tests/unit/components/annotations/StampTool.test.tsx",
        "tests/unit/lib/storage/stampStorage.test.ts",
        "tests/integration/annotations/drawing.test.tsx",
        "tests/integration/annotations/shapes.test.tsx"
      ],
      "testCategories": ["unit", "integration"],
      "acceptanceCriteria": [
        "All new features have unit tests",
        "Integration tests pass",
        "Code coverage meets target",
        "Drawing canvas interactions tested",
        "Shape creation/editing tested",
        "Stamp placement tested",
        "Custom stamp persistence tested"
      ]
    }
  ],
  "successCriteria": ["Stamps can be placed and customized", "Preset stamps work correctly", "Custom stamps can be saved for reuse"],
  "filesCreated": ["src/components/annotations/StampTool.tsx", "src/components/annotations/StampPicker.tsx", "src/components/annotations/CustomStampDialog.tsx", "src/components/annotations/StampTransform.tsx", "src/lib/storage/stampStorage.ts", "src/constants/stamps.ts"],
  "filesModified": ["src/types/annotations.ts"],
  "totalNewTests": 14,
  "totalEstimatedHours": 23,
  "dependencies": ["PHASE_1_SPRINT_4_TODO_1"],
  "notes": ["Stamps are commonly used for document workflow status"]
}
